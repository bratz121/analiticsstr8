{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useState } from \"react\";\nexport function useAuth() {\n  _s();\n  const [authState, setAuthState] = useState(() => {\n    const token = localStorage.getItem(\"token\");\n    const username = localStorage.getItem(\"username\");\n    const role = localStorage.getItem(\"role\");\n    return {\n      isAuthenticated: !!token,\n      isAdmin: role === \"admin\",\n      token,\n      username\n    };\n  });\n  const login = (token, username, role) => {\n    localStorage.setItem(\"token\", token);\n    localStorage.setItem(\"username\", username);\n    localStorage.setItem(\"role\", role);\n    setAuthState({\n      isAuthenticated: true,\n      isAdmin: role === \"admin\",\n      token,\n      username\n    });\n  };\n  const logout = () => {\n    localStorage.removeItem(\"token\");\n    localStorage.removeItem(\"username\");\n    localStorage.removeItem(\"role\");\n    setAuthState({\n      isAuthenticated: false,\n      isAdmin: false,\n      token: null,\n      username: null\n    });\n  };\n  return {\n    ...authState,\n    login,\n    logout\n  };\n}\n_s(useAuth, \"Cs1nJ3wwjxo/zG5z3mZqtUaVt1U=\");","map":{"version":3,"names":["useState","useAuth","_s","authState","setAuthState","token","localStorage","getItem","username","role","isAuthenticated","isAdmin","login","setItem","logout","removeItem"],"sources":["C:/Users/zelud/OneDrive/Desktop/analitic/src/hooks/useAuth.ts"],"sourcesContent":["import { useState, useEffect } from \"react\";\r\n\r\ninterface AuthState {\r\n  isAuthenticated: boolean;\r\n  isAdmin: boolean;\r\n  token: string | null;\r\n  username: string | null;\r\n}\r\n\r\nexport function useAuth() {\r\n  const [authState, setAuthState] = useState<AuthState>(() => {\r\n    const token = localStorage.getItem(\"token\");\r\n    const username = localStorage.getItem(\"username\");\r\n    const role = localStorage.getItem(\"role\");\r\n\r\n    return {\r\n      isAuthenticated: !!token,\r\n      isAdmin: role === \"admin\",\r\n      token,\r\n      username,\r\n    };\r\n  });\r\n\r\n  const login = (token: string, username: string, role: string) => {\r\n    localStorage.setItem(\"token\", token);\r\n    localStorage.setItem(\"username\", username);\r\n    localStorage.setItem(\"role\", role);\r\n\r\n    setAuthState({\r\n      isAuthenticated: true,\r\n      isAdmin: role === \"admin\",\r\n      token,\r\n      username,\r\n    });\r\n  };\r\n\r\n  const logout = () => {\r\n    localStorage.removeItem(\"token\");\r\n    localStorage.removeItem(\"username\");\r\n    localStorage.removeItem(\"role\");\r\n\r\n    setAuthState({\r\n      isAuthenticated: false,\r\n      isAdmin: false,\r\n      token: null,\r\n      username: null,\r\n    });\r\n  };\r\n\r\n  return {\r\n    ...authState,\r\n    login,\r\n    logout,\r\n  };\r\n}\r\n"],"mappings":";AAAA,SAASA,QAAQ,QAAmB,OAAO;AAS3C,OAAO,SAASC,OAAOA,CAAA,EAAG;EAAAC,EAAA;EACxB,MAAM,CAACC,SAAS,EAAEC,YAAY,CAAC,GAAGJ,QAAQ,CAAY,MAAM;IAC1D,MAAMK,KAAK,GAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;IAC3C,MAAMC,QAAQ,GAAGF,YAAY,CAACC,OAAO,CAAC,UAAU,CAAC;IACjD,MAAME,IAAI,GAAGH,YAAY,CAACC,OAAO,CAAC,MAAM,CAAC;IAEzC,OAAO;MACLG,eAAe,EAAE,CAAC,CAACL,KAAK;MACxBM,OAAO,EAAEF,IAAI,KAAK,OAAO;MACzBJ,KAAK;MACLG;IACF,CAAC;EACH,CAAC,CAAC;EAEF,MAAMI,KAAK,GAAGA,CAACP,KAAa,EAAEG,QAAgB,EAAEC,IAAY,KAAK;IAC/DH,YAAY,CAACO,OAAO,CAAC,OAAO,EAAER,KAAK,CAAC;IACpCC,YAAY,CAACO,OAAO,CAAC,UAAU,EAAEL,QAAQ,CAAC;IAC1CF,YAAY,CAACO,OAAO,CAAC,MAAM,EAAEJ,IAAI,CAAC;IAElCL,YAAY,CAAC;MACXM,eAAe,EAAE,IAAI;MACrBC,OAAO,EAAEF,IAAI,KAAK,OAAO;MACzBJ,KAAK;MACLG;IACF,CAAC,CAAC;EACJ,CAAC;EAED,MAAMM,MAAM,GAAGA,CAAA,KAAM;IACnBR,YAAY,CAACS,UAAU,CAAC,OAAO,CAAC;IAChCT,YAAY,CAACS,UAAU,CAAC,UAAU,CAAC;IACnCT,YAAY,CAACS,UAAU,CAAC,MAAM,CAAC;IAE/BX,YAAY,CAAC;MACXM,eAAe,EAAE,KAAK;MACtBC,OAAO,EAAE,KAAK;MACdN,KAAK,EAAE,IAAI;MACXG,QAAQ,EAAE;IACZ,CAAC,CAAC;EACJ,CAAC;EAED,OAAO;IACL,GAAGL,SAAS;IACZS,KAAK;IACLE;EACF,CAAC;AACH;AAACZ,EAAA,CA7CeD,OAAO","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}